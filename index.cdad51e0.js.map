{"mappings":"AAEA,MAAMA,EAAUC,SAASC,eAAe,WAClCC,EAAMF,SAASC,eAAe,OAE9BE,EAAa,ICFJ,MAMbC,cACE,MAAMC,EAAM,+FAA2DC,KAAKC,gBAAgBD,KAAKE,OACjG,OAAOC,MAAMJ,GAAKK,MAAKC,IACrB,IAAKA,EAAEC,GACL,MAAM,IAAIC,MAAM,aAElB,OAAOF,EAAEG,MAAM,G,CAGnBC,gBACET,KAAKE,MAAQ,C,CAGfQ,YACEV,KAAKE,KAAO,C,CAnBdS,cACEX,KAAKE,KAAO,EACZF,KAAKC,QAAU,C,GDiBnB,SAASW,EAAaC,GACpB,MAAMC,EAASD,EACZE,KAAIC,GACI,6DAESA,EAAMC,sBAAsBD,EAAME,oDAInDC,KAAK,IACR1B,EAAQ2B,mBAAmB,YAAaN,E,CA1B1CpB,SAAS2B,iBAAiB,oBAAoB,KAC5CxB,EAAWC,cAAcM,MAAK,EAACkB,KAAEA,MAC/BV,EAAaU,GACbzB,EAAWY,eAAe,GAC1B,IAGJb,EAAIyB,iBAAiB,SAErB,WACExB,EAAWC,cAAcM,MAAK,EAACkB,KAAEA,MAC/BV,EAAaU,GACbzB,EAAWY,eAAe,G","sources":["src/main.js","src/js/gallery.js"],"sourcesContent":["import NewGalleryApi from './js/gallery.js';\n\nconst gallery = document.getElementById('gallery');\nconst btn = document.getElementById('btn');\n\nconst galleryApi = new NewGalleryApi();\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  galleryApi.fetchImages().then(({ hits }) => {\n    renderImages(hits);\n    galleryApi.incrementPage();\n  });\n});\n\nbtn.addEventListener('click', onLoadMore);\n\nfunction onLoadMore() {\n  galleryApi.fetchImages().then(({ hits }) => {\n    renderImages(hits);\n    galleryApi.incrementPage();\n  });\n}\n\nfunction renderImages(images) {\n  const markUp = images\n    .map(image => {\n      return `\n        <div class=\"gallery-item\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n        </div>\n      `;\n    })\n    .join('');\n  gallery.insertAdjacentHTML('beforeend', markUp);\n}\n","const API_KEY = '47286351-e716f5558799522fb527bbff6';\nconst BASE_URL = 'https://pixabay.com/api';\n\nexport default class NewGalleryApi {\n  constructor() {\n    this.page = 1;\n    this.perPage = 3;\n  }\n\n  fetchImages() {\n    const url = `${BASE_URL}?key=${API_KEY}&editors_choice=true&per_page=${this.perPage}&page=${this.page}`;\n    return fetch(url).then(r => {\n      if (!r.ok) {\n        throw new Error('Error 404');\n      }\n      return r.json();\n    });\n  }\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n}\n"],"names":["$aa459f0fea9822fe$var$gallery","document","getElementById","$aa459f0fea9822fe$var$btn","$aa459f0fea9822fe$var$galleryApi","fetchImages","url","this","perPage","page","fetch","then","r","ok","Error","json","incrementPage","resetPage","constructor","$aa459f0fea9822fe$var$renderImages","images","markUp","map","image","webformatURL","tags","join","insertAdjacentHTML","addEventListener","hits"],"version":3,"file":"index.cdad51e0.js.map"}